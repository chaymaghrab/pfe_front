<div class="main-content">
   
<table class="table">
    <thead class="thead-dark">
      <tr>
    <th>nom groupe</th>
    <th>code groupe</th>
    <th>niveau</th>
    <th>department</th>
    <th>ecole</th>
    <th>parcours</th>
    <th>cours</th>
    <th>
    </th>
    <th>
    </th>
      </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of allgroupe_classes">
            <td>{{item.nom_groupe}}</td>
            <td>{{item.code_groupe}}</td>
            <td>{{item.niveau}}</td>
            <td>{{item.departement}}</td>
            <td>{{item.ecole}}</td>
            <td>{{item.langue}}</td>
            <td>{{item.cours}}</td>
            <td><button type="button" class="btn btn-primary"  (click)="openModal2(allcertif,item.id)">consulter certif</button></td>
            <td>
              <button type="button" class="btn btn-primary" (click)="openModal(template,item.id)">add certif</button>
            </td>
        </tr>
    </tbody>
  </table>

  <ng-template #template>
    <div class="modal-header">
      <h4 class="modal-title pull-left">affecter formation</h4>
      <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
        <span aria-hidden="true" class="visually-hidden">&times;</span>
      </button>
    </div><br>
    <form  #f="ngForm" novalidate (ngSubmit)="certif_add(f.value,f.valid)">
      <div class="form-group has-label">
        <label class="control-label" for="">nombre d'heure :
            <span class="star">*</span>
        </label>
        <input type="number" class="form-control" name="nom" id="nbheure" [ngModel]="addnbheure.nbheure"
          required  #nbheure="ngModel">
        <small [hidden]="nbheure.valid || (nbheure.pristine && !f.submitted)" class="text-danger">
          nombre d'heure  est obligatoire
        </small>
    </div><br>
    <div class="form-group has-label">
      <label class="control-label" for="">semstre :
          <span class="star">*</span>
      </label>
      <select name="semestre" id="semestre" class="form-control">
          <option value="1">semestre 1</option>
          <option value="2">semestre 2</option>
      </select>
    </div><br>
    <div class="form-group has-label">
      <label class="control-label" for="">formation :
          <span class="star">*</span>
      </label>
      <select name="certif" id="certifid" class="form-control">
          <option  *ngFor="let cer of all_certif" value="{{cer.id}}">{{cer.nom_formation}}</option>
          </select><br>
    </div><br>
    <button type="submit" class="btn btn-primary"  style="text-align: center;display: block;
    margin: auto;">affecter formation</button><br>
  </form>
  </ng-template>

  <ng-template #allcertif>
    <div class="modal-header">
      <h4 class="modal-title pull-left">les certifications</h4>
      <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="modalRef?.hide()">
        <span aria-hidden="true" class="visually-hidden">&times;</span>
      </button>
    </div>
    <table>
        <th>
          semestre
        </th>
        <th>
          formation
        </th>
        <th>
          nombre d'heure
        </th>
      <tr *ngFor="let all_certif of all_certif_id let i=index">
        <td>{{all_certif.semestre}}</td>
        <td>{{nom_formations[i]}}</td>
        <td>{{all_certif.nbheure}}</td>
       <button class="btn btn-danger"(click)="deletecertif(all_certif.id)">supprimer</button>
      </tr>
    </table>
  </ng-template>

</div>